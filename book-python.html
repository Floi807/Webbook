<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Легкий способ выучить Python</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: linear-gradient(135deg, #4a8b90, #e3dbdb);
      text-align: center;
    }

    h1 {
      color: #333;
    }

    img {
      max-width: 300px;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      margin: 20px 0;
    }

    p {
      max-width: 700px;
      margin: 20px auto;
      font-size: 16px;
      color: #ffffff;
    }

    .btn {
      display: inline-block;
      width: 15em;
      margin: 10px 5px;
      padding: 10px 20px;
      background-color: #000000;
      color: #ffffff;
      text-decoration: none;
      border-radius: 10px;
      transition: background-color 0.3s ease;
      cursor: pointer;
    }

    .btn:hover {
      background-color: #0056b3;
    }

    .description-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin-top: 20px;
    }

    .desc {
      width: 13em;
      height: 35px;
      border-radius: 7px;
      cursor: pointer;
    }

    .description {
      width: 500px;
      text-align: left;
      padding: 15px;
      box-shadow: 5px 5px 10px 10px rgba(0, 0, 0, 0.2);
      margin-top: 15px;
      background: linear-gradient(135deg, #4a8b90, #bcb5b5);
    }

    .description h2 {
      text-align: center;
      color: #000;
    }

    .description p {
      color: #333;
      font-size: 14px;
    }

    /* PDF.js контейнер */
    #pdf-container {
      width: 90%;
      max-width: 900px;
      margin: 30px auto;
      border: 2px solid #444;
      border-radius: 10px;
      display: none; /* скрыт по умолчанию */
      text-align: center;
    }

    canvas {
      width: 100%;
      height: auto;
      margin-bottom: 10px;
    }

  </style>
</head>
<body>
  <h1>Легкий способ выучить Python</h1>

  <img src="img/книга Легкий способ выучить Python.jpg" alt="Обложка книги">
  <br>

  <!-- Кнопки чтения -->
  <a class="btn" href="#" id="pdfBtn">Читать PDF</a>
  <a class="btn" href="https://books.yandex.kz/reader/QAvzorqj?resource=book" target="_blank">
    Читать на Яндекс.Книгах
  </a>

  <p>Описание книги по Python...</p>

  <div class="description-wrapper">
    <button class="desc" onclick="this.nextElementSibling.hidden ^= 1">☰ Описание</button>
    <nav class="description" id="nav-python" hidden>
      <h2>Книга Легкий способ выучить Python:</h2>
      <h4>
        Новая книга автора знаменитого бестселлера-самоучителя «Легкий способ выучить Python»
        (основана на примерах из Python-2), Зеда Шоу, поможет вам с не меньшей легкостью освоить Python-3.
        Как и прежде, автор использует свою уникальную методику обучения, ставшую его визитной карточкой:
        тщательно отобранные и проверенные тысячами людей практические примеры, подкрепленные видеоуроками,
        размещенными на авторском сайте, и легкий юмор, поднимающий читателям настроение и позволяющий поверить в себя.
      </h4>
    </nav>
  </div>

  <!-- PDF.js контейнер -->
  <div id="pdf-container"></div>

  <!-- PDF.js библиотека -->
  <script src="https://mozilla.github.io/pdf.js/build/pdf.js"></script>
  <script>
    var url = '/Webbook/pdf/книга.pdf'; // путь к PDF
    var pdfContainer = document.getElementById('pdf-container');
    var pdfLoaded = false;

    document.getElementById('pdfBtn').addEventListener('click', function(e){
      e.preventDefault();
      pdfContainer.style.display = pdfContainer.style.display === 'none' ? 'block' : 'none';

      if (!pdfLoaded) {
        pdfjsLib.getDocument(url).promise.then(function(pdf) {
          for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
            pdf.getPage(pageNum).then(function(page) {
              var scale = 1.5;
              var viewport = page.getViewport({scale: scale});
              var canvas = document.createElement('canvas');
              var context = canvas.getContext('2d');
              canvas.height = viewport.height;
              canvas.width = viewport.width;
              pdfContainer.appendChild(canvas);
              page.render({canvasContext: context, viewport: viewport});
            });
          }
        });
        pdfLoaded = true; // чтобы не загружать PDF повторно
      }
    });
  </script>

</body>
</html>
